<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n Club</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background: #f4f6f9;
        }

        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }

        .card {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
        }

        .pregunta {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .opciones {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .opciones label {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 6px;
            background: #f1f1f1;
            cursor: pointer;
        }

        input[type="radio"] {
            transform: scale(1.2);
        }

        button {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            background: #1e88e5;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        button:hover {
            background: #1565c0;
        }

        @media (min-width:600px) {
            .opciones {
                flex-direction: row;
                justify-content: space-between;
            }
        }

        .progress-container {
            width: 100%;
            background: #ddd;
            border-radius: 20px;
            overflow: hidden;
            height: 20px;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: #4caf50;
            transition: width 0.3s ease;
        }

        .mensaje-exito {
            display: none;
            background: #e8f5e9;
            color: #2e7d32;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .progress-wrapper {
            position: sticky;
            top: 0;
            background: #f4f6f9;
            padding: 10px 0;
            z-index: 1000;
        }

        .progress-container {
            width: 100%;
            background: #ddd;
            border-radius: 20px;
            overflow: hidden;
            height: 20px;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: #4caf50;
            transition: width 0.3s ease;
        }

        #progressText {
            text-align: center;
            font-weight: bold;
            margin: 5px 0 0 0;
        }

        .progress-completo {
            animation: pulseGreen 0.6s ease-in-out;
            background: #2e7d32 !important;
        }

        @keyframes pulseGreen {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.03);
            }

            100% {
                transform: scale(1);
            }
        }

        .card.completada {
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .respuesta-final {
            font-weight: bold;
            color: #2e7d32;
            margin-top: 5px;
        }

        .info-alternativas {
            background: #ffffff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
            font-size: 14px;
        }

        .info-alternativas h3 {
            margin-top: 0;
            color: #1e88e5;
        }

        .info-alternativas ul {
            padding-left: 20px;
            margin: 10px 0 0 0;
        }

        .info-alternativas li {
            margin-bottom: 6px;
        }
    </style>
</head>

<body>

    <div class="container">

        <h1>Evaluaci√≥n T√©cnica</h1>

        <div id="mensajeExito" class="mensaje-exito">
            ‚úÖ Evaluaci√≥n enviada correctamente
        </div>

        <div class="progress-wrapper">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <p id="progressText">0% completado</p>
            <p id="preguntaActual"></p>
        </div>

        <form id="formulario">

            <div class="card">
                <input type="text" id="nombre" placeholder="Nombre completo" required
                    style="width:100%;padding:10px;margin-bottom:10px;">
                <input type="number" id="anioIngreso" placeholder="A√±o ingreso al polo" required
                    style="width:100%;padding:10px;margin-bottom:10px;">
                <input type="number" id="nacionales" placeholder="Torneos nacionales" required
                    style="width:100%;padding:10px;margin-bottom:10px;">
                <input type="number" id="internacionales" placeholder="Torneos internacionales" required
                    style="width:100%;padding:10px;margin-bottom:10px;">
                <input type="number" id="latinos" placeholder="Latinoamericanos" required
                    style="width:100%;padding:10px;margin-bottom:10px;">
                <input type="number" id="somos" placeholder="Torneos Somos" required
                    style="width:100%;padding:10px;margin-bottom:10px;">
                <input type="number" id="wildcard" placeholder="Wild Card / Mundiales" required
                    style="width:100%;padding:10px;margin-bottom:10px;">

                <p>¬øParticipas activamente en ligas?</p>
                <label><input type="radio" name="ligas" value="Si" required> S√≠</label>
                <label><input type="radio" name="ligas" value="No"> No</label>
            </div>

            <div class="info-alternativas">
                <h3>Instrucciones</h3>
                <p>Marca la alternativa que m√°s se acerque a tu juego, de acuerdo a las siguientes descripciones:</p>

                <ul>
                    <li><strong>SIEMPRE:</strong> 8 a 10 de 10 veces puedo hacerlo bien sin fallas.</li>
                    <li><strong>A VECES:</strong> 4 a 6 de 10 veces puedo hacerlo, pero no siempre me sale bien.</li>
                    <li><strong>NUNCA:</strong> Menos de 3 de 10 veces me sale bien, en general me ayuda bastante la
                        suerte.</li>
                </ul>
            </div>


            <div id="preguntas"></div>

            <div class="card">
                <button type="submit" id="btnEnviar" disabled>Enviar Evaluaci√≥n</button>
            </div>

        </form>

    </div>

    <script>

<<<<<<< HEAD
        const endpoint = "https://script.google.com/macros/s/AKfycbyq00TY_2B0Zh9bMVIUv-ksVEInBDaDG6tZaKfx60u4rwNk1udE6R-6lOpi_a_dJ923/exec";

        /* =========================================
           ‚è± INICIO TIMER OCULTO
        ========================================= */

        let tiempoInicio = localStorage.getItem("inicioTest");

        if (!tiempoInicio) {
            tiempoInicio = Date.now();
            localStorage.setItem("inicioTest", tiempoInicio);
        } else {
            tiempoInicio = parseInt(tiempoInicio);
        }

        /* ========================================= */

        const preguntas = [
            "Gesti√≥n de presi√≥n: ¬øEres capaz de mantener la calma y buscar un pase seguro cuando te encuentras presionado por dos oponentes en una esquina?",
            "Priorizaci√≥n de amenazas: Al defender un contragolpe, ¬øidentificas correctamente qui√©n es el jugador m√°s peligroso (el que lleva la bola o el que busca el pase al segundo palo)?",
            "Adaptabilidad t√°ctica: Si la estrategia inicial no funciona contra un equipo espec√≠fico, ¬øtienes la capacidad de proponer o adoptar un cambio de rol a mitad del partido?",
            "Visi√≥n perif√©rica: ¬øPuedes ubicar la posici√≥n de tus compa√±eros y rivales sin dejar de mirar la pelota directamente?",
            "C√°lculo de trayectorias: ¬øEres capaz de anticipar el rebote de la pelota en las paredes o esquinas para ganar la posici√≥n antes que el rival?",
            "Gesti√≥n del \"Timeout\" personal: ¬øReconoces el momento exacto en que debes bajar el ritmo para permitir que tu equipo se reorganice defensivamente?",
            "Detecci√≥n de patrones: ¬øLogras identificar r√°pidamente el punto d√©bil del rival (ej. un jugador que no defiende bien el lado del freno o que se cansa r√°pido)?",
            "Conciencia del cron√≥metro: ¬øAjustas tu toma de riesgos dependiendo del tiempo restante y el marcador (ej. posesiones m√°s largas si vas ganando por uno al final)?",
            "Lectura de porter√≠a: ¬øAnalizas los h√°bitos del arquero rival (ej. si suele salir mucho o si deja libre el primer palo) antes de ejecutar un tiro?",
            "S√≠ntesis comunicativa: ¬øLogras dar instrucciones precisas de m√°ximo dos palabras (ej. \"¬°Sube!\", \"¬°Cambio!\") en medio de la intensidad del juego?",
            "Inteligencia emocional: ¬øEres capaz de dar instrucciones constructivas a un compa√±ero que acaba de cometer un error sin romper la din√°mica del equipo?",
            "Liderazgo y Estrategia: ¬øTe sientes capaz de asumir el armado, la coordinaci√≥n y la direcci√≥n de tu equipo durante un partido de alta intensidad?",
            "Roles Espec√≠ficos: ¬øPosees nociones avanzadas sobre las responsabilidades t√°cticas de cada posici√≥n (delantero, medio y arquero) y sabes cu√°ndo rotar entre ellas?",
            "Comunicaci√≥n Operativa: ¬øUtilizas un lenguaje t√°ctico fluido para coordinar la ubicaci√≥n de tus compa√±eros (ej. cantar \"atr√°s\", \"lado\", \"orilla\") durante el juego?",
            "Dominio del Espacio: ¬øTienes claras las nociones b√°sicas de posicionamiento (delante, atr√°s, per√≠metro, medio) para mantener el orden estructural del equipo?",
            "Resoluci√≥n en Zonas Cr√≠ticas: ¬øDominas el juego en paredes y esquinas? (¬øSabes c√≥mo salir de situaciones de presi√≥n extrema sin perder la posesi√≥n?).",
            "An√°lisis T√°ctico (Lectura): ¬øQu√© tan desarrollada consideras tu \"lectura de partido\", tanto para ajustar la estrategia mientras juegas como para analizar errores desde fuera?",
            "Contacto Legal: Al disputar una posici√≥n, ¬ørealiza el contacto f√≠sico exclusivamente de hombro a hombro, manteniendo el brazo pegado al cuerpo y sin usar los codos?",
            "Estabilidad en Choque: ¬øLogra absorber el contacto f√≠sico de un oponente y mantener la trayectoria de la bicicleta sin perder el equilibrio o poner un pie en el suelo (dab)?",
            "¬øPuedes conducir la bicicleta con seguridad usando solo una mano en el manubrio?",
            "¬øLogras dar vueltas en c√≠rculo con una sola mano, primero apoyando el mallet y luego sin apoyarlo?",
            "¬øFrenas con la rueda delantera a velocidad moderada levantando la trasera con control?",
            "¬øMantienes el equilibrio en un punto fijo con la bicicleta detenida y el mallet apoyado?",
            "¬øControlas la bici sin caerte en carreras de velocidad o ante frenadas bruscas?",
            "¬øPedaleas y frenas con fluidez utilizando una sola mano?",
            "¬øLogras saltar (encalado o no) con ambas ruedas repetidamente girando sobre el eje?",
            "¬øSaltas con ambas ruedas movi√©ndote hacia adelante, atr√°s y a los lados?",
            "¬øUtilizas el cuerpo de la bicicleta para ganar posici√≥n o quitar pelotas a un rival?",
            "¬øRealizas pivoteos de +45¬∞ con la rueda delantera en ambos sentidos?",
            "¬øRealizas pivoteos de 45¬∞ con la rueda trasera hacia tu lado h√°bil?",
            "¬øRealizas pivoteos de 90¬∞ con la rueda trasera hacia tu lado h√°bil?",
            "¬øLogras hacer pivoteos de +90¬∞ con ambas ruedas (delantera ambos sentidos, trasera lado h√°bil)?",
            "¬øEjecutas pivoteos continuos combinando ambas ruedas (trasera + delantera)?",
            "¬øLlevas la pelota con control por ambos lados de la bicicleta?",
            "¬øPuedes dar una vuelta completa a la cancha llevando la pelota por tu lado h√°bil?",
            "¬øLlevas la pelota por delante de la bici movi√©ndola de lado a lado us√°ndola como eje?",
            "¬øPasas la pelota de un lado al otro por la zona de la caja de motor (2 veces por lado)?",
            "¬øPasas la pelota de un lado al otro utilizando la t√©cnica de scoop?",
            "¬øRealizas pases precisos utilizando la rueda delantera?",
            "¬øRealizas pases precisos utilizando la rueda trasera?",
            "¬øRecibes pases con √©xito por tu lado h√°bil?",
            "¬øRecibes pases con √©xito por tu lado no h√°bil (rev√©s)?",
            "¬øDas pases hacia atr√°s con intenci√≥n y direcci√≥n?",
            "¬øDas pases por tu lado h√°bil (ya sea al costado o hacia adelante)?",
            "¬øDas pases utilizando el lado largo del cabezal del mallet?",
            "¬øTus pases y tiros van dirigidos exactamente hacia donde quieres?",
            "¬øPresionas la pelota contra el piso con el lado hueco del cabezal (scoop)?",
            "¬øHaces tiros efectivos al arco por tu lado h√°bil?",
            "¬øTiras al arco con potencia desde cualquier parte de la cancha?",
            "¬øDefines con √©xito en situaciones de 1v1 (de derecho y rev√©s) por ambos lados?",
            "¬øRecibes un pase y tiras al arco de primera (en 1 solo movimiento)?",
            "¬øRecibes, preparas y tiras al arco en 2 movimientos?",
            "¬øRecibes, preparas y tiras al arco en 3 movimientos?",
            "¬øRealizas un scoop b√°sico con la bici (par√°bola simple hacia arriba/adelante)?",
            "¬øRealizas un scoop b√°sico sin estar sobre la bicicleta?",
            "¬øLogras realizar la t√©cnica de scoop de rev√©s?",
            "¬øEjecutas un scoop avanzado reteniendo la pelota y cambiando de direcci√≥n (m√°x. 3) antes de pasar?",
            "¬øUtilizas el scoop dentro de un partido para dar pases o librarte de defensas?",
            "¬øTe acomodas r√°pidamente al arco para defender?",
            "¬øEntras al √°rea, te posicionas como arquero y mantienes la posici√≥n correctamente?",
            "¬øBajas el mallet paralelo al piso para defender y vuelves a la posici√≥n de arquero sin caerte?",
            "¬øBajar el mallet al piso (bajo la caja de motor) para tapar pelotas bajas en el arco?",
            "¬øBajas el mallet con precisi√≥n para interferir o cortar pases enemigos?",
            "¬øUsas las manos para desviar pelotas a√©reas de forma consciente (mallet bajo el manubrio)?",
            "¬øLogras buenas salidas controladas en situaciones de pared y esquinas?",
            "¬øBajas el mallet al piso o tocas el suelo con la mano mientras la bici sigue en movimiento?"
        ];


        const contenedor = document.getElementById("preguntas");


        /* =========================================
           GENERAR PREGUNTAS
        ========================================= */

=======
        const endpoint = "https://script.google.com/macros/s/AKfycbw3pzGgJZzKmsNn9Vp-TZ2H01zNd2CqaSVwkog80_euM8_Ju2dsLMBm15ISzawt5deh/exec";

        const preguntas = [
            "Presionar la pelota contra el piso con lado hueco del cabezal (scoop)",
            "Mantener el equilibrio posicionado en lugar espec√≠fico, bicicleta detenida y mallet bien apoyado en el suelo",
            "Fuera de un partido: Bajar mallet al piso mientras la bici est√© en movimiento/tocar piso con la mano",
            "Saltar encalado (o no) con ambas ruedas, repetidamente, girando en el eje de la caja de motor",
            "Armado, coordinaci√≥n y direcci√≥n de equipo en un partido",
            "Dar vuelta en c√≠rculo con una mano en el manubrio y la otra inicialmente apoyando el mallet",
            "Nociones avanzadas de posiciones en la cancha",
            "Pasar la pelota de un lado al otro de la bici utilizando scoop hacia ambos lados",
            "Llevar la pelota una vuelta completa a la cancha en donde yo la quiero",
            "Pedalear y frenar idealmente con una mano",
            "Pases con rueda delantera",
            "Pivoteo continuo con ambas ruedas",
            "Dar un pase con el lado largo de la cabeza",
            "No caerse en situaciones de carrera y frenar bruscamente",
            "Bajar mallet al piso para tapar una pelota bajo caja de motor en el arco",
            "Pivoteo en +90¬∞ con ambas ruedas",
            "Recibir un pase por tu lado h√°bil",
            "Dar un pase por tu lado h√°bil",
            "Dar pases o tiros direccionados",
            "Bajar mallet para interferir pases",
            "En movimiento recto: Saltar con ambas ruedas para cambiar direcci√≥n",
            "Bajar mallet para defender el arco y volver a posici√≥n",
            "Hablar de forma t√°ctica para coordinaci√≥n de equipo",
            "Conducir la bicicleta con una mano",
            "Llevar pelota por delante moviendo la bici de lado a lado",
            "Utilizar scoop dentro de partidos",
            "Scoop de rev√©s",
            "Nociones b√°sicas de posicionamiento en la cancha",
            "Hacer un tiro por tu lado h√°bil",
            "Nociones de juego en pared y esquinas",
            "Utilizaci√≥n de la bicicleta para ganar posici√≥n",
            "Recibir pase, preparar tiro y tirar de primera",
            "Lectura de partidos",
            "Pasar la pelota de un lado al otro por caja de motor 2 veces",
            "Entrar al √°rea y mantener posici√≥n de arquero",
            "Saltar repetidamente movi√©ndose adelante, atr√°s y lados",
            "Buenas salidas en situaciones en pared",
            "Pases con rueda trasera",
            "Dar un pase hacia atr√°s",
            "Llevar la pelota por ambos lados de la bici",
            "Scoop sin bicicleta hacia arriba",
            "Pivotear en 45¬∞ con rueda trasera",
            "Recibir pase, preparar tiro y tirar en 3 movimientos",
            "Juego con las manos controlando pelotas a√©reas",
            "Pivotear en +45¬∞ con rueda delantera",
            "Acomodar la bicicleta al arco",
            "Recibir un pase por tu lado no h√°bil",
            "Frenar con rueda delantera y levantar rueda trasera",
            "Recibir pase, preparar tiro y tirar en 2 movimientos",
            "Pivotear en 90¬∞ con rueda trasera",
            "Tiro al arco desde cualquier parte de la cancha",
            "Defender 1v1 cerca del √°rea por ambos lados",
            "Scoop b√°sico con bicicleta hacia arriba"
        ];

        const contenedor = document.getElementById("preguntas");


        // üî• Generar preguntas din√°micamente
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        preguntas.forEach((texto, index) => {

            const numero = index + 1;

            if (numero % 10 === 1) {
                const separador = document.createElement("div");
                separador.innerHTML = `<h3 style="margin-top:30px;">Bloque ${Math.ceil(numero / 10)}</h3>`;
                contenedor.appendChild(separador);
            }

            const card = document.createElement("div");
            card.className = "card";

            card.innerHTML = `
        <div class="pregunta">${numero}. ${texto}</div>
        <div class="opciones">
            <label><input type="radio" name="p${numero}" value="3" required> Siempre</label>
            <label><input type="radio" name="p${numero}" value="2"> A veces</label>
            <label><input type="radio" name="p${numero}" value="1"> Nunca</label>
        </div>
    `;

            contenedor.appendChild(card);

            card.querySelectorAll("input[type='radio']").forEach(radio => {
                radio.addEventListener("change", function () {

                    actualizarProgreso();

<<<<<<< HEAD
=======
                    // üî• Guardar respuesta pregunta
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
                    localStorage.setItem(this.name, this.value);

                    const cardActual = this.closest(".card");

                    if (cardActual.classList.contains("completada")) return;

                    const opciones = cardActual.querySelector(".opciones");
                    opciones.style.display = "none";

                    const respuestaFinal = document.createElement("div");
                    respuestaFinal.className = "respuesta-final";
                    respuestaFinal.innerText = "Respuesta: " + this.parentElement.innerText;

                    cardActual.appendChild(respuestaFinal);
                    cardActual.classList.add("completada");

                    const numeroActual = parseInt(this.name.replace("p", ""));
                    const siguiente = document.querySelector(`input[name="p${numeroActual + 1}"]`);

                    if (siguiente) {
                        siguiente.closest(".card").scrollIntoView({
                            behavior: "smooth",
                            block: "center"
                        });
                    }
                });
            });

        });


<<<<<<< HEAD
        /* =========================================
           GUARDAR CAMPOS
        ========================================= */

=======
        // üî• GUARDAR CAMPOS INFORMATIVOS AUTOM√ÅTICAMENTE
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        const camposInfo = [
            "nombre",
            "anioIngreso",
            "nacionales",
            "internacionales",
            "latinos",
            "somos",
            "wildcard"
        ];

        camposInfo.forEach(id => {
            const input = document.getElementById(id);
            if (input) {
                input.addEventListener("input", function () {
                    localStorage.setItem(id, this.value);
                });
            }
        });

<<<<<<< HEAD
=======
        // Guardar radio ligas
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        document.querySelectorAll('input[name="ligas"]').forEach(radio => {
            radio.addEventListener("change", function () {
                localStorage.setItem("ligas", this.value);
            });
        });


<<<<<<< HEAD
        /* =========================================
           RESTAURAR PROGRESO
        ========================================= */

=======
        // üî• RESTAURAR PROGRESO PREGUNTAS
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        preguntas.forEach((_, index) => {

            const numero = index + 1;
            const valorGuardado = localStorage.getItem("p" + numero);

            if (valorGuardado) {

                const radio = document.querySelector(`input[name="p${numero}"][value="${valorGuardado}"]`);

                if (radio) {

                    radio.checked = true;

                    const cardActual = radio.closest(".card");
                    const opciones = cardActual.querySelector(".opciones");
                    opciones.style.display = "none";

                    const respuestaFinal = document.createElement("div");
                    respuestaFinal.className = "respuesta-final";
                    respuestaFinal.innerText = "Respuesta: " + radio.parentElement.innerText;

                    cardActual.appendChild(respuestaFinal);
                    cardActual.classList.add("completada");
                }
            }
        });


<<<<<<< HEAD
=======
        // üî• RESTAURAR CAMPOS INFORMATIVOS
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        camposInfo.forEach(id => {
            const valor = localStorage.getItem(id);
            if (valor) {
                const input = document.getElementById(id);
                if (input) input.value = valor;
            }
        });

<<<<<<< HEAD
=======
        // Restaurar ligas
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        const ligasGuardado = localStorage.getItem("ligas");
        if (ligasGuardado) {
            const radio = document.querySelector(`input[name="ligas"][value="${ligasGuardado}"]`);
            if (radio) radio.checked = true;
        }

<<<<<<< HEAD
        actualizarProgreso();


        /* =========================================
           BARRA PROGRESO
        ========================================= */

=======

        // üî• Actualizar barra despu√©s de restaurar
        actualizarProgreso();


        // üî• Barra de progreso
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        function actualizarProgreso() {

            let respondidas = 0;

            for (let i = 1; i <= preguntas.length; i++) {
                const seleccion = document.querySelector(`input[name="p${i}"]:checked`);
                if (seleccion) respondidas++;
            }

            const porcentaje = Math.round((respondidas / preguntas.length) * 100);

            const barra = document.getElementById("progressBar");
            const texto = document.getElementById("progressText");
            const btn = document.getElementById("btnEnviar");

            if (barra) barra.style.width = porcentaje + "%";
            if (texto) texto.innerText = porcentaje + "% completado";

            if (porcentaje === 100) {
                btn.disabled = false;
                barra.style.background = "#2e7d32";
            } else {
                btn.disabled = true;
                barra.style.background = "#4caf50";
            }

            for (let i = preguntas.length; i >= 1; i--) {
                const seleccion = document.querySelector(`input[name="p${i}"]:checked`);
                if (seleccion) {
                    document.getElementById("preguntaActual").innerText =
                        "√öltima respondida: " + i + " de " + preguntas.length;
                    break;
                }
            }
        }


<<<<<<< HEAD
        /* =========================================
           ENV√çO
        ========================================= */

=======
        // üî• Env√≠o del formulario
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
        document.getElementById("formulario").addEventListener("submit", function (e) {

            e.preventDefault();

            let puntaje = 0;

<<<<<<< HEAD
            const respuestas = {};

            for (let i = 1; i <= preguntas.length; i++) {

                const respuesta = document.querySelector(`input[name="p${i}"]:checked`);

                if (respuesta) {
                    puntaje += parseInt(respuesta.value);
                    respuestas["p" + i] = respuesta.value;
                } else {
                    respuestas["p" + i] = "";
                }
=======
            for (let i = 1; i <= preguntas.length; i++) {
                const respuesta = document.querySelector(`input[name="p${i}"]:checked`);
                puntaje += parseInt(respuesta.value);
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
            }

            let nivel = "";

            if (puntaje <= 74) nivel = "Inicial";
            else if (puntaje <= 96) nivel = "Inicial(+)";
            else if (puntaje <= 118) nivel = "Intermedio";
            else if (puntaje <= 140) nivel = "Intermedio(+)";
            else nivel = "Avanzado";

<<<<<<< HEAD

            const tiempoTotalSegundos = Math.round((Date.now() - tiempoInicio) / 1000);


=======
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
            const data = {
                nombre: document.getElementById("nombre").value,
                anioIngreso: document.getElementById("anioIngreso").value,
                nacionales: document.getElementById("nacionales").value,
                internacionales: document.getElementById("internacionales").value,
                latinos: document.getElementById("latinos").value,
                somos: document.getElementById("somos").value,
                wildcard: document.getElementById("wildcard").value,
                ligas: document.querySelector('input[name="ligas"]:checked').value,
                puntaje,
<<<<<<< HEAD
                nivel,
                tiempo: tiempoTotalSegundos,
                ...respuestas
=======
                nivel
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
            };

            const formData = new FormData();
            Object.keys(data).forEach(key => formData.append(key, data[key]));

            const btn = document.getElementById("btnEnviar");
            btn.disabled = true;
            btn.innerText = "Enviando...";

            fetch(endpoint, {
                method: "POST",
                body: formData
            })
                .then(() => {

<<<<<<< HEAD
=======
                    // üî• LIMPIAR TODO EL PROGRESO
>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
                    localStorage.clear();

                    const mensaje = document.getElementById("mensajeExito");
                    mensaje.style.display = "block";

                    window.scrollTo({
                        top: 0,
                        behavior: "smooth"
                    });

                    document.getElementById("formulario").reset();
                    actualizarProgreso();

                    btn.innerText = "Enviar Evaluaci√≥n";

                    setTimeout(() => {
                        mensaje.style.display = "none";
                    }, 4000);

                })
                .catch(error => {
                    console.error("Error:", error);
                    btn.disabled = false;
                    btn.innerText = "Enviar Evaluaci√≥n";
                });

        });

    </script>

<<<<<<< HEAD
=======


>>>>>>> ee8fc75336a1465aa16cbdfcbaab1744b0ff2288
</body>

</html>